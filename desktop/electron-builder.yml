appId: com.frontierace.chorus
productName: Chorus
copyright: Copyright Â© 2026 FrontierAce

directories:
  output: release
  buildResources: build

files:
  - main.js
  - preload.js
  - "lib/**/*"
  - "dist/**/*"
  - "package.json"
  - "!src/**/*"
  - "!e2e/**/*"
  - "!**/*.test.*"
  - "!**/*.spec.*"
  - "!vitest*"
  - "!playwright*"
  - "!tsconfig*"
  - "!vite.config*"
  - "!bin/**/*"

mac:
  category: public.app-category.productivity
  icon: build/icons/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  notarize: false
  target:
    - target: dmg
      arch:
        - arm64
    - target: dmg
      arch:
        - x64

dmg:
  artifactName: "${productName}-${version}-${arch}.dmg"
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications

asar: true

protocols:
  - name: Chorus
    schemes:
      - interviewfeedback

extraResources:
  - from: node_modules/ffmpeg-static
    to: ffmpeg-static
    filter:
      - "**/*"
  - from: node_modules/ffprobe-static/bin/darwin
    to: ffprobe-static/bin/darwin
    filter:
      - "**/*"
  - from: node_modules/ffprobe-static/index.js
    to: ffprobe-static/index.js
  - from: node_modules/ffprobe-static/package.json
    to: ffprobe-static/package.json
  - from: .env
    to: .env
